(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Manager"],{"0943":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-button",{staticClass:"insert-btn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.handleInsert()}}},[e._v("添加 ")]),a("el-table",{staticClass:"manager",staticStyle:{width:"100%",padding:"30px"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"账户",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-s-custom"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.phone))])]}}])}),a("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},n=[],s=(a("ac1f"),a("5319"),a("d74e")),o=a("9892"),i={data:function(){return{tableData:[]}},created:function(){var e=this;s["a"].list().then((function(t){e.tableData=t.data}))},methods:{handleEdit:function(e,t){var a=t.id;this.$router.push({name:"managerEdit",params:{id:a}})},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该管理员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$message({type:"success",message:"删除成功!"});var e=t.id;s["a"].delete(e),o["a"].clear(),a.$router.replace({name:"login"})})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},handleInsert:function(){this.$router.push({name:"managerCreate"})}}},l=i,c=(a("9944"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"38c88455",null);t["default"]=u.exports},"2cda":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[a("el-form",{ref:"userForm",attrs:{model:e.formData,rules:e.rules,"label-position":"left","label-width":"160px"}},[a("h3",{staticClass:"title"},[e._v("管理员修改")]),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"460px"},attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"460px"},attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"460px"},attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),a("el-form-item",{staticClass:"warpper"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleEditManager}},[e._v("修改")])],1)],1)],1)])},n=[],s=(a("b0c0"),a("ac1f"),a("5319"),a("d74e")),o=a("9892"),i={data:function(){return{loading:!1,rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/\d{6}$/,message:"不能少于6位数",trigger:"blur"}]},formData:{name:"",phone:"",password:""}}},created:function(){var e=this,t=this.$route.params.id;s["a"].single(t).then((function(t){e.formData.name=t.data.name,e.formData.phone=t.data.phone}))},methods:{handleEditManager:function(){var e=this;this.$refs.userForm.validate((function(t){if(t){var a={name:e.formData.name,phone:e.formData.phone,password:e.formData.password},r=e.$route.params.id;s["a"].update(r,a).then((function(t){200===t.code&&(e.$message({message:"修改成功",type:"success"}),o["a"].clear(),e.$router.replace({name:"login"}))}))}else e.$message({message:"输入有误",type:"warning"})}))}}},l=i,c=(a("43ad"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"358c1a4a",null);t["default"]=u.exports},"43ad":function(e,t,a){"use strict";var r=a("92636"),n=a.n(r);n.a},5897:function(e,t,a){},"5e92":function(e,t,a){"use strict";var r=a("77d0"),n=a.n(r);n.a},"77d0":function(e,t,a){},"7fba":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[a("el-form",{ref:"userForm",attrs:{model:e.formData,rules:e.rules,"label-position":"left","label-width":"160px"}},[a("h3",{staticClass:"title"},[e._v("管理员添加")]),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"460px"},attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"460px"},attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"460px"},attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),a("el-form-item",{staticClass:"warpper"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateManager}},[e._v("添加")]),a("el-button",{attrs:{type:"info"},on:{click:e.handlereturn}},[e._v("返回")])],1)],1)],1)])},n=[],s=(a("b0c0"),a("d74e")),o={data:function(){return{loading:!1,rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/\d{6}$/,message:"不能少于6位数",trigger:"blur"}]},formData:{name:"",phone:"",password:""}}},methods:{handleCreateManager:function(){var e=this;this.$refs.userForm.validate((function(t){if(t){var a={name:e.formData.name,phone:e.formData.phone,password:e.formData.password};s["a"].insert(a).then((function(t){200===t.code&&(e.$message({message:"添加成功",type:"success"}),e.$router.push({name:"manager"}))}))}else e.$message({message:"输入有误",type:"warning"})}))},handlereturn:function(){this.$router.push({name:"manager"})}}},i=o,l=(a("5e92"),a("2877")),c=Object(l["a"])(i,r,n,!1,null,"9ffdc5ae",null);t["default"]=c.exports},92636:function(e,t,a){},9944:function(e,t,a){"use strict";var r=a("5897"),n=a.n(r);n.a},d74e:function(e,t,a){"use strict";var r=a("9d94"),n=a("8088"),s={login:function(e){return r["a"].post(n["a"].authLogin,e)},list:function(){return r["a"].get(n["a"].manager)},delete:function(e){return r["a"].delete(n["a"].managerItem(e))},insert:function(e){return r["a"].post(n["a"].manager,e)},update:function(e,t){return r["a"].put(n["a"].managerItem(e),t)},single:function(e){return r["a"].get(n["a"].managerItem(e))}};t["a"]=s}}]);
//# sourceMappingURL=Manager.16a634e0.js.map