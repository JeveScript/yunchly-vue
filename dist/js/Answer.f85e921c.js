(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Answer"],{"23f5":function(t,e,a){"use strict";var n=a("9d94"),s=a("8088"),r={list:function(t){return n["a"].get(s["a"].topic,t)},insert:function(t){return n["a"].post(s["a"].topic,t)},update:function(t,e){return n["a"].put(s["a"].topicItem(t),e)},delete:function(t){return n["a"].delete(s["a"].topicItem(t))},single:function(t){return n["a"].get(s["a"].topicItem(t))},show:function(t,e){return n["a"].put(s["a"].topicShow(t),e)}};e["a"]=r},"3b34":function(t,e,a){"use strict";var n=a("9d94"),s=a("8088"),r={delete:function(t){return n["a"].delete(s["a"].answerItem(t))},insert:function(t){return n["a"].post(s["a"].answer,t)},update:function(t,e){return n["a"].put(s["a"].answerItem(t),e)},single:function(t){return n["a"].get(s["a"].answerItem(t))},today:function(){return n["a"].get(s["a"].answerToday)},answerSingle:function(t){return n["a"].get(s["a"].answerSingle(t))}};e["a"]=r},5461:function(t,e,a){},6708:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"container-topic"},[a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"title",width:"220",label:"话题标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"topic-title"},[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"话题分类"}}),a("el-table-column",{attrs:{prop:"pv",label:"PV"}}),a("el-table-column",{attrs:{prop:"follow",label:"关注"}}),a("el-table-column",{attrs:{prop:"answer_num",label:"回答"}})],1)],1),a("el-input",{staticClass:"container-textarea",attrs:{type:"textarea",rows:6,disabled:""},model:{value:t.tableData[0].text,callback:function(e){t.$set(t.tableData[0],"text",e)},expression:"tableData[0].text"}}),a("div",{staticClass:"show-answer"},[a("el-table",{staticClass:"answer-table",staticStyle:{width:"100%"},attrs:{data:t.showAnswer}},[a("el-table-column",{attrs:{label:"精选",width:"55"}},[[a("i",{staticClass:"el-icon-view",staticStyle:{"padding-left":"10px"}})]],2),a("el-table-column",{attrs:{prop:"nick_name",label:"用户名",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.row.nick_name))])]}}])}),a("el-table-column",{attrs:{prop:"praise",label:"点赞",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.row.praise))])]}}])}),a("el-table-column",{attrs:{prop:"collect",label:"收藏",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.row.collect))])]}}])}),a("el-table-column",{attrs:{prop:"text",label:"内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"answer-text"},[t._v(t._s(e.row.text))])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"110"}})],1)],1),a("div",{staticClass:"container-answer"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:t.handleShow}},[t._v("精选")]),a("el-table",{attrs:{data:t.answerData,"tooltip-effect":"dark","show-overflow-tooltip":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"用户名",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.nick_name))])]}}])}),a("el-table-column",{attrs:{prop:"praise",label:"点赞",width:"100"}}),a("el-table-column",{attrs:{prop:"collect",label:"收藏",width:"100"}}),a("el-table-column",{attrs:{prop:"text",label:"内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"answer-text"},[t._v(t._s(e.row.text))])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"110"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleSingle(e.row)}}},[t._v("详情")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)},s=[],r=(a("4160"),a("a434"),a("ac1f"),a("5319"),a("159b"),a("23f5")),i=a("3b34"),l={data:function(){return{tableData:[{text:""}],answerData:[],showAnswer:[],arrayAnswer:[]}},created:function(){this.onLoad()},methods:{onLoad:function(){var t=this,e=this.$route.params.id;r["a"].single(e).then((function(e){200===e.code?(t.tableData.splice(0,1,e.data),e.answer&&(e.answer.text=e.answer.text.replace(/<\/?.+?>/g,""),t.showAnswer.splice(0,1,e.answer))):t.$message.error(e.message)})),i["a"].single(e).then((function(e){200===e.code?(e.data.forEach((function(t){t.text=t.text.replace(/<\/?.+?>/g,"")})),t.answerData=e.data):t.$message.error(e.message)}))},handleSelectionChange:function(t){this.arrayAnswer=t},handleShow:function(){var t=this,e=this.$route.params.id;if(1===this.arrayAnswer.length){var a={answer_id:this.arrayAnswer[0].id};r["a"].show(e,a).then((function(e){200!==e.code&&t.$message.error(e.message),t.onLoad()}))}else this.$message.error("只能选择一条精选喔")},handleSingle:function(t){var e=t.id,a=this.tableData[0].id;this.$router.push({name:"answerSingle",params:{id:e,topic_id:a}})},handleDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除该回答, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=e.id;i["a"].delete(n).then((function(e){a.$message({message:e.message}),200===e.code&&a.answerData.splice(t,1)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}}},o=l,c=(a("a3b7"),a("2877")),u=Object(c["a"])(o,n,s,!1,null,"73363681",null);e["default"]=u.exports},a3b7:function(t,e,a){"use strict";var n=a("5461"),s=a.n(n);s.a},a434:function(t,e,a){"use strict";var n=a("23e7"),s=a("23cb"),r=a("a691"),i=a("50c4"),l=a("7b0b"),o=a("65f0"),c=a("8418"),u=a("1dde"),d=Math.max,p=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var a,n,u,w,m,b,g=l(this),v=i(g.length),_=s(t,v),x=arguments.length;if(0===x?a=n=0:1===x?(a=0,n=v-_):(a=x-2,n=p(d(r(e),0),v-_)),v+a-n>f)throw TypeError(h);for(u=o(g,n),w=0;w<n;w++)m=_+w,m in g&&c(u,w,g[m]);if(u.length=n,a<n){for(w=_;w<v-n;w++)m=w+n,b=w+a,m in g?g[b]=g[m]:delete g[b];for(w=v;w>v-n+a;w--)delete g[w-1]}else if(a>n)for(w=v-n;w>_;w--)m=w+n-1,b=w+a-1,m in g?g[b]=g[m]:delete g[b];for(w=0;w<a;w++)g[w+_]=arguments[w+2];return g.length=v-n+a,u}})},de1b:function(t,e,a){"use strict";var n=a("ec76"),s=a.n(n);s.a},df19:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"cart-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"text item"},[t._v("话题标题："+t._s(t.answerData.title))]),a("div",{staticClass:"text item"},[t._v("话题分类："+t._s(t.answerData.name))]),a("div",{staticClass:"text item"},[t._v("创建用户："+t._s(t.answerData.nick_name))]),a("div",{staticClass:"text item"},[t._v("创建日期："+t._s(t.answerData.create_time))]),a("div",{staticClass:"text item"},[t._v("点赞数："+t._s(t.answerData.praise))]),a("div",{staticClass:"text item"},[t._v("收藏数："+t._s(t.answerData.collect))])]),a("quill-editor",{ref:"myQuillEditor",staticClass:"quill-editor",staticStyle:{height:"290px",width:"47%"},attrs:{options:t.editorOption},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),a("div",{staticClass:"btn-container"},[a("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){return t.handlereturn()}}},[t._v("返回")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){return t.handleDelete(t.answerData.id)}}},[t._v("删除")])],1)])},s=[],r=a("3b34"),i=(a("a753"),a("8096"),a("14e1"),a("953d")),l=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]],o={data:function(){return{answerData:{},content:"",editorOption:{modules:{toolbar:{container:l}},readOnly:!0}}},created:function(){var t=this,e=this.$route.params.id;r["a"].answerSingle(e).then((function(e){t.answerData=e.data,t.content=e.data.text}))},methods:{handlereturn:function(){var t=this.$route.params;t.topic_id?this.$router.push({name:"answer",params:{id:t.topic_id}}):this.$router.back()},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该回答, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r["a"].delete(t).then((function(t){e.$message({message:t.message}),200===t.code&&e.$router.back()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}},components:{"quill-editor":i["quillEditor"]}},c=o,u=(a("de1b"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"07651dfa",null);e["default"]=d.exports},ec76:function(t,e,a){}}]);
//# sourceMappingURL=Answer.f85e921c.js.map