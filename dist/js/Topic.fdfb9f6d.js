(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Topic"],{"1c5d":function(t,e,a){"use strict";var r=a("9d94"),n=a("8088"),i={list:function(t){return r["a"].get(n["a"].category,t)},insert:function(t){return r["a"].post(n["a"].category,t)},single:function(t){return r["a"].get(n["a"].categoryItem(t))},update:function(t,e){return r["a"].put(n["a"].categoryItem(t),e)},delete:function(t){return r["a"].delete(n["a"].categoryItem(t))}};e["a"]=i},"23f5":function(t,e,a){"use strict";var r=a("9d94"),n=a("8088"),i={list:function(t){return r["a"].get(n["a"].topic,t)},insert:function(t){return r["a"].post(n["a"].topic,t)},update:function(t,e){return r["a"].put(n["a"].topicItem(t),e)},delete:function(t){return r["a"].delete(n["a"].topicItem(t))},single:function(t){return r["a"].get(n["a"].topicItem(t))},show:function(t,e){return r["a"].put(n["a"].topicShow(t),e)}};e["a"]=i},"2d04":function(t,e,a){"use strict";var r=a("8474"),n=a.n(r);n.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),n=a("5899"),i="["+n+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"6cd0":function(t,e,a){},8405:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-content"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":"100px"}},[a("h3",{staticClass:"title"},[t._v("话题详情")]),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"600px"},attrs:{label:"话题标题：",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"600px"},attrs:{label:"话题分类：",prop:"sort_id"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.formData.category_id,callback:function(e){t.$set(t.formData,"category_id",e)},expression:"formData.category_id"}},t._l(t.sort_value,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"600px"},attrs:{label:"内容：",prop:"text"}},[a("el-input",{attrs:{type:"textarea",rows:6},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1),a("el-form-item",{staticClass:"warpper"},[a("el-button",{attrs:{type:"success"},on:{click:t.handleEditTopic}},[t._v("修改")]),a("el-button",{attrs:{type:"info"},on:{click:t.hanleReturn}},[t._v("返回")])],1)],1)],1)])},n=[],i=(a("a9e3"),a("1c5d")),o=a("23f5"),s={data:function(){return{loading:!1,rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],category_id:[{required:!0,message:"请选择分类",trigger:"change"}],text:[{required:!0,message:"请输入内容",trigger:"blur"}]},formData:{title:"",category_id:"",text:""},sort_value:[]}},created:function(){var t=this,e=this.$route.params.id;i["a"].list().then((function(e){t.sort_value=e.data})),o["a"].single(e).then((function(e){200!==e.code&&t.$message.error(e.message),e.data.category_id=Number(e.data.category_id),t.formData=e.data}))},methods:{handleEditTopic:function(){var t=this;this.$refs.formData.validate((function(e){if(e){var a={title:t.formData.title,category_id:t.formData.category_id,text:t.formData.text},r=t.$route.params.id;o["a"].update(r,a).then((function(e){200===e.code&&(t.$message({message:e.message,type:"success"}),t.$router.push({name:"topic"}))}))}else t.$message({message:"输入有误",type:"warning"})}))},hanleReturn:function(){this.$router.push({name:"topic"})}}},l=s,c=(a("2d04"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"18a4af2c",null);e["default"]=u.exports},8474:function(t,e,a){},"91d8":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-select",{staticClass:"topic-select",attrs:{placeholder:"请选择分类",clearable:""},on:{change:function(e){return t.onLoad()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),a("el-button",{staticClass:"insert-btn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){return t.handleInsert()}}},[t._v("添加 ")]),a("el-table",{staticClass:"topic",staticStyle:{width:"100%",padding:"30px"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"topic-title"},[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{label:"分类"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",[t._v(t._s(e.row.name))])],1)]}}])}),a("el-table-column",{attrs:{prop:"pv",label:"PV"}}),a("el-table-column",{attrs:{prop:"follow",label:"关注"}}),a("el-table-column",{attrs:{prop:"answer_num",label:"回答"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleSingle(e.row)}}},[t._v("管理")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{layout:"prev, pager, next","page-size":t.pagination.pageSize,"pager-count":7,"current-page":t.pagination.nowPage,total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"nowPage",e)},"update:current-page":function(e){return t.$set(t.pagination,"nowPage",e)},"current-change":t.onLoad}})],1)},n=[],i=(a("a434"),a("23f5")),o=a("1c5d"),s={data:function(){return{tableData:[],pagination:{pageSize:10,total:0,nowPage:1},value:"",options:[]}},created:function(){this.onLoad()},methods:{onLoad:function(){var t=this,e={pageSize:this.pagination.pageSize,nowPage:this.pagination.nowPage,filter:this.value};i["a"].list(e).then((function(e){t.tableData=e.data,t.pagination.total=e.total})),o["a"].list().then((function(e){t.options=e.data}))},handleEdit:function(t,e){var a=e.id;this.$router.push({name:"topicEdit",params:{id:a}})},handleDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除该话题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var r=e.id;i["a"].delete(r).then((function(t){a.$message({type:"success",message:t.message})})),a.tableData.splice(t,1)})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},handleSingle:function(t){var e=t.id;this.$router.push({name:"answer",params:{id:e}})},handleInsert:function(){this.$router.push({name:"topicCreate"})}}},l=s,c=(a("a98f"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"b639d794",null);e["default"]=u.exports},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),i=a("a691"),o=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),f=Math.max,p=Math.min,d=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var a,r,u,g,h,v,b=s(this),_=o(b.length),x=n(t,_),y=arguments.length;if(0===y?a=r=0:1===y?(a=0,r=_-x):(a=y-2,r=p(f(i(e),0),_-x)),_+a-r>d)throw TypeError(m);for(u=l(b,r),g=0;g<r;g++)h=x+g,h in b&&c(u,g,b[h]);if(u.length=r,a<r){for(g=x;g<_-r;g++)h=g+r,v=g+a,h in b?b[v]=b[h]:delete b[v];for(g=_;g>_-r+a;g--)delete b[g-1]}else if(a>r)for(g=_-r;g>x;g--)h=g+r-1,v=g+a-1,h in b?b[v]=b[h]:delete b[v];for(g=0;g<a;g++)b[g+x]=arguments[g+2];return b.length=_-r+a,u}})},a98f:function(t,e,a){"use strict";var r=a("fdbe"),n=a.n(r);n.a},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("94ca"),o=a("6eeb"),s=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),f=a("d039"),p=a("7c73"),d=a("241c").f,m=a("06cf").f,g=a("9bf2").f,h=a("58a8").trim,v="Number",b=n[v],_=b.prototype,x=l(p(_))==v,y=function(t){var e,a,r,n,i,o,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>n)return NaN;return parseInt(i,r)}return+c};if(i(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var w,D=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof D&&(x?f((function(){_.valueOf.call(a)})):l(a)!=v)?c(new b(y(e)),a,D):y(e)},$=r?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;$.length>C;C++)s(b,w=$[C])&&!s(D,w)&&g(D,w,m(b,w));D.prototype=_,_.constructor=D,o(n,v,D)}},dd18:function(t,e,a){"use strict";var r=a("6cd0"),n=a.n(r);n.a},ef43:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-content"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":"100px"}},[a("h3",{staticClass:"title"},[t._v("话题添加")]),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"600px"},attrs:{label:"话题标题：",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"600px"},attrs:{label:"话题分类：",prop:"sort_id"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.formData.sort_id,callback:function(e){t.$set(t.formData,"sort_id",e)},expression:"formData.sort_id"}},t._l(t.sort_value,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{staticClass:"warpper",staticStyle:{width:"600px"},attrs:{label:"内容：",prop:"text"}},[a("el-input",{attrs:{type:"textarea",rows:6},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1),a("el-form-item",{staticClass:"warpper"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreateTopic}},[t._v("添加")]),a("el-button",{attrs:{type:"info"},on:{click:t.handlereturn}},[t._v("返回")])],1)],1)],1)])},n=[],i=a("1c5d"),o=a("23f5"),s={data:function(){return{loading:!1,rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],sort_id:[{required:!0,message:"请选择分类",trigger:"change"}],text:[{required:!0,message:"请输入内容",trigger:"blur"}]},formData:{title:"",sort_id:"",text:""},sort_value:[]}},created:function(){var t=this;i["a"].list().then((function(e){t.sort_value=e.data}))},methods:{handleCreateTopic:function(){var t=this;this.$refs.formData.validate((function(e){if(e){var a={title:t.formData.title,category_id:t.formData.sort_id,text:t.formData.text};o["a"].insert(a).then((function(e){200===e.code&&(t.$message({message:e.message,type:"success"}),t.$router.push({name:"topic"}))}))}else t.$message({message:"输入有误",type:"warning"})}))},handlereturn:function(){this.$router.push({name:"topic"})}}},l=s,c=(a("dd18"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"3e11d106",null);e["default"]=u.exports},fdbe:function(t,e,a){}}]);
//# sourceMappingURL=Topic.fdfb9f6d.js.map