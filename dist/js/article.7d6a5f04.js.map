{"version":3,"sources":["webpack:///./src/views/articleCreate.vue?1979","webpack:///src/views/articleCreate.vue","webpack:///./src/views/articleCreate.vue?6107","webpack:///./src/views/articleCreate.vue","webpack:///./src/global/service/article.js","webpack:///./src/views/articleSingle.vue?c66f","webpack:///src/views/articleSingle.vue","webpack:///./src/views/articleSingle.vue?1134","webpack:///./src/views/articleSingle.vue","webpack:///./src/views/articleSingle.vue?9e5c","webpack:///./src/views/article.vue?6955","webpack:///src/views/article.vue","webpack:///./src/views/article.vue?bba0","webpack:///./src/views/article.vue","webpack:///./src/views/article.vue?2b44","webpack:///./src/views/articleCreate.vue?b16d","webpack:///./src/global/service/qiniu.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","title","expression","staticStyle","ref","editorOption","contentUrl","on","handleCreate","staticRenderFns","name","size","accept","QINIU_API","image","fileInput","setAttribute","uploadConfig","classList","add","addEventListener","file","qiniu","click","data","modules","toolbar","container","toolbarOptions","handlers","methods","content","article","res","code","message","type","$message","components","component","list","request","get","API","insert","params","post","single","id","articleItem","update","put","delete","handleEditContent","created","onload","console","log","$event","handleAdd","_l","item","key","padding","_s","handleTitle","handleSee","handleDelete","articleData","$router","push","$confirm","confirmButtonText","cancelButtonText","$msgbox","h","showCancelButton","showInput","qiniuToken","upload","Promise","resolve","then","Date","now","token","domain","formData","FormData","append","qiniu_API","headers","imageUrl"],"mappings":"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","file":"js/article.7d6a5f04.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"增加一个文章\")]),_c('form',{staticClass:\"article-form\"},[_c('span',{staticClass:\"text-title\"},[_vm._v(\"标题\")]),_c('el-input',{staticClass:\"text-input\",attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('div',{staticClass:\"image-title\"},[_vm._v(\"内容：\")]),_c('div',{staticStyle:{\"height\":\"500px\"}},[_c('quill-editor',{ref:\"myQuillEditor\",staticClass:\"quill-editor\",staticStyle:{\"height\":\"400px\"},attrs:{\"options\":_vm.editorOption},model:{value:(_vm.contentUrl),callback:function ($$v) {_vm.contentUrl=$$v},expression:\"contentUrl\"}})],1),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"添加\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <h3 class=\"title\">增加一个文章</h3>\n    <form class=\"article-form\">\n      <span class=\"text-title\">标题</span>\n      <el-input class=\"text-input\" v-model=\"title\" placeholder=\"请输入名称\" />\n    </form>\n    <div class=\"image-title\">内容：</div>\n    <div style=\"height:500px;\">\n      <quill-editor\n        class=\"quill-editor\"\n        v-model=\"contentUrl\"\n        ref=\"myQuillEditor\"\n        :options=\"editorOption\"\n        style=\"height:400px;\"\n      >\n      </quill-editor>\n    </div>\n    <el-button class=\"btn\" type=\"primary\" @click=\"handleCreate\">添加</el-button>\n  </div>\n</template>\n\n<script>\nimport qiniuService from \"@/global/service/qiniu.js\";\nimport articleService from \"@/global/service/article.js\";\n\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\nimport { quillEditor } from \"vue-quill-editor\";\n\nconst uploadConfig = {\n  name: \"image_url\",\n  size: 500, // 图片大小，单位为Kb, 1M = 1024Kb\n  accept: \"image/png, image/gif, image/jpeg\", // 可选 可上传的图片格式\n  QINIU_API: \"http://upload-z2.qiniup.com\"\n};\nconst toolbarOptions = [\n  [\"bold\", \"italic\", \"underline\", \"strike\"],\n  [\"blockquote\", \"code-block\"],\n  [{ header: 1 }, { header: 2 }],\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\n  [{ script: \"sub\" }, { script: \"super\" }],\n  [{ indent: \"-1\" }, { indent: \"+1\" }],\n  [{ direction: \"rtl\" }],\n  [{ size: [\"small\", false, \"large\", \"huge\"] }],\n  [{ header: [1, 2, 3, 4, 5, 6, false] }],\n  [{ color: [] }, { background: [] }],\n  [{ font: [] }],\n  [{ align: [] }],\n  [\"clean\"],\n  [\"link\", \"image\", \"video\"]\n];\nconst handlers = {\n  image: function() {\n    let fileInput = document.createElement(\"input\");\n    fileInput.setAttribute(\"type\", \"file\");\n    fileInput.setAttribute(\"accept\", uploadConfig.accept);\n    fileInput.classList.add(\"ql-image\");\n    fileInput.addEventListener(\"change\", () => {\n      const file = fileInput.files[0];\n      if (uploadConfig.size && file.size >= uploadConfig.size * 1024) {\n        fileInput.value = \"\";\n        return;\n      }\n      qiniuService.upload(file).then(res => {\n        let length = this.quill.getSelection(true).index;\n        this.quill.insertEmbed(length, \"image\", res);\n        this.quill.setSelection(length + 1);\n      });\n    });\n    fileInput.click();\n  }\n};\n\nexport default {\n  data() {\n    return {\n      contentUrl: \"\",\n      title: \"\",\n      editorOption: {\n        modules: {\n          toolbar: {\n            container: toolbarOptions,\n            handlers: handlers\n          }\n        }\n      }\n    };\n  },\n  methods: {\n    handleCreate() {\n      if (this.contentUrl && this.title) {\n        let params = {\n          content: this.contentUrl,\n          title: this.title\n        };\n        articleService.insert(params).then(res => {\n          if (res.code !== 200) {\n            this.$message({\n              message: res.message,\n              type: \"warning\"\n            });\n            return;\n          }\n          this.$router.push({ name: \"article\" });\n        });\n      } else {\n        this.$message({\n          message: \"缺少必要参数\",\n          type: \"warning\"\n        });\n      }\n    }\n  },\n  components: {\n    \"quill-editor\": quillEditor\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  background-color: #fff;\n  border-radius: 10px;\n  padding: 20px 20px 100px 20px;\n  position: relative;\n}\n.title {\n  padding: 20px;\n}\n.image-title,\n.text-title {\n  padding: 20px 0 0 20px;\n}\n.btn {\n  position: absolute;\n  left: 100px;\n  bottom: 50px;\n}\n.avatar-uploader,\n.el-upload {\n  width: 178px;\n  height: 178px;\n  border: 1px dashed #4169e1;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  margin: 0 0 30px 100px;\n}\n.avatar-uploader:hover {\n  border-color: #000080;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n.text-input {\n  margin: 20px 0 0 50px;\n  width: 240px;\n}\n.article-form {\n  display: flex;\n}\n.quill-editor {\n  width: 600px;\n  height: 300px;\n  margin-left: 90px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleCreate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleCreate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articleCreate.vue?vue&type=template&id=d2a23e64&scoped=true&\"\nimport script from \"./articleCreate.vue?vue&type=script&lang=js&\"\nexport * from \"./articleCreate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articleCreate.vue?vue&type=style&index=0&id=d2a23e64&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2a23e64\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/global/request/axios\";\nimport API from \"@/global/request/api\";\n\nconst article = {\n  list: function() {\n    return request.get(API.article);\n  },\n  insert: function(params) {\n    return request.post(API.article, params);\n  },\n  single: function(id) {\n    return request.get(API.articleItem(id));\n  },\n  update: function(id, params) {\n    return request.put(API.articleItem(id), params);\n  },\n  delete: function(id) {\n    return request.delete(API.articleItem(id));\n  }\n};\n\nexport default article;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleEditContent}},[_vm._v(\"确认修改\")]),_c('div',{staticStyle:{\"height\":\"500px\"}},[_c('quill-editor',{ref:\"myQuillEditor\",staticClass:\"quill-editor\",staticStyle:{\"height\":\"400px\"},attrs:{\"options\":_vm.editorOption},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <el-button class=\"btn\" type=\"text\" @click=\"handleEditContent\"\n      >确认修改</el-button\n    >\n    <div style=\"height:500px;\">\n      <quill-editor\n        class=\"quill-editor\"\n        v-model=\"content\"\n        ref=\"myQuillEditor\"\n        :options=\"editorOption\"\n        style=\"height:400px;\"\n      >\n      </quill-editor>\n    </div>\n  </div>\n</template>\n\n<script>\nimport articleService from \"@/global/service/article.js\";\nimport qiniuService from \"@/global/service/qiniu.js\";\n\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\nimport { quillEditor } from \"vue-quill-editor\";\n\nconst uploadConfig = {\n  name: \"image_url\",\n  size: 500, // 图片大小，单位为Kb, 1M = 1024Kb\n  accept: \"image/png, image/gif, image/jpeg\", // 可选 可上传的图片格式\n  QINIU_API: \"http://upload-z2.qiniup.com\"\n};\nconst toolbarOptions = [\n  [\"bold\", \"italic\", \"underline\", \"strike\"],\n  [\"blockquote\", \"code-block\"],\n  [{ header: 1 }, { header: 2 }],\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\n  [{ script: \"sub\" }, { script: \"super\" }],\n  [{ indent: \"-1\" }, { indent: \"+1\" }],\n  [{ direction: \"rtl\" }],\n  [{ size: [\"small\", false, \"large\", \"huge\"] }],\n  [{ header: [1, 2, 3, 4, 5, 6, false] }],\n  [{ color: [] }, { background: [] }],\n  [{ font: [] }],\n  [{ align: [] }],\n  [\"clean\"],\n  [\"link\", \"image\", \"video\"]\n];\nconst handlers = {\n  image: function() {\n    let fileInput = document.createElement(\"input\");\n    fileInput.setAttribute(\"type\", \"file\");\n    fileInput.setAttribute(\"accept\", uploadConfig.accept);\n    fileInput.classList.add(\"ql-image\");\n    fileInput.addEventListener(\"change\", () => {\n      const file = fileInput.files[0];\n      if (uploadConfig.size && file.size >= uploadConfig.size * 1024) {\n        fileInput.value = \"\";\n        return;\n      }\n      qiniuService.upload(file).then(res => {\n        let length = this.quill.getSelection(true).index;\n        this.quill.insertEmbed(length, \"image\", res);\n        this.quill.setSelection(length + 1);\n      });\n    });\n    fileInput.click();\n  }\n};\n\nexport default {\n  data() {\n    return {\n      content: \"\",\n      editorOption: {\n        modules: {\n          toolbar: {\n            container: toolbarOptions,\n            handlers: handlers\n          }\n        }\n      }\n    };\n  },\n  created() {\n    this.onload();\n  },\n  methods: {\n    onload() {\n      let id = this.$route.params.id;\n      articleService.single(id).then(res => {\n        this.content = res.data.content;\n      });\n    },\n    handleEditContent() {\n      let content = this.content;\n      let id = this.$route.params.id;\n      articleService.update(id, { content }).then(res => {\n        if (res.code !== 200) {\n          console.log(res.message);\n          return;\n        }\n        this.content = content;\n      });\n    }\n  },\n  components: {\n    \"quill-editor\": quillEditor\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  background-color: #fff;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  padding: 20px;\n}\n.editor {\n  width: 600px;\n  height: 300px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSingle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSingle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articleSingle.vue?vue&type=template&id=767f43b6&scoped=true&\"\nimport script from \"./articleSingle.vue?vue&type=script&lang=js&\"\nexport * from \"./articleSingle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articleSingle.vue?vue&type=style&index=0&id=767f43b6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"767f43b6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSingle.vue?vue&type=style&index=0&id=767f43b6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSingle.vue?vue&type=style&index=0&id=767f43b6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-button',{on:{\"click\":function($event){return _vm.handleAdd()}}},[_vm._v(\"添加 \")]),_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.articleData),function(item){return _c('el-col',{key:item.id,attrs:{\"span\":6}},[_c('el-card',{staticClass:\"el-card\",attrs:{\"body-style\":{ padding: '20px 0 0 0' }}},[_c('div',{staticClass:\"article-title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"bottom\"},[_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleTitle(item.id)}}},[_vm._v(\" 修改标题 \")]),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleSee(item.id)}}},[_vm._v(\" 修改内容 \")]),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDelete(item.id)}}},[_vm._v(\" 删除文章 \")])],1)])],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <el-button @click=\"handleAdd()\">添加 </el-button>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\" v-for=\"item in articleData\" :key=\"item.id\">\n        <el-card :body-style=\"{ padding: '20px 0 0 0' }\" class=\"el-card\">\n          <div class=\"article-title\">{{ item.title }}</div>\n          <div class=\"bottom\">\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              class=\"btn\"\n              @click=\"handleTitle(item.id)\"\n            >\n              修改标题\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              class=\"btn\"\n              @click=\"handleSee(item.id)\"\n            >\n              修改内容\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              class=\"btn\"\n              @click=\"handleDelete(item.id)\"\n            >\n              删除文章\n            </el-button>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport articleService from \"@/global/service/article.js\";\n\nexport default {\n  data() {\n    return {\n      articleData: []\n    };\n  },\n  created() {\n    this.onload();\n  },\n  methods: {\n    onload() {\n      articleService.list().then(res => {\n        this.articleData = res.data;\n      });\n    },\n    handleAdd() {\n      this.$router.push({ name: \"articleCreate\" });\n    },\n    handleSee(id) {\n      this.$router.push({ name: \"articleSingle\", params: { id } });\n    },\n    handleDelete(id) {\n      this.$confirm(\"此操作将永久删除该文章, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          articleService.delete(id).then(res => {\n            if (res.code !== 200) {\n              this.$message.error(res.message);\n            } else {\n              this.$message({\n                type: \"success\",\n                message: res.message\n              });\n              this.onload();\n            }\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\"\n          });\n        });\n    },\n    handleTitle(id) {\n      let h = this.$createElement;\n      this.$msgbox({\n        title: \"修改标题\",\n        message: h(\"p\", null, [h(\"span\", null, \"输入文章名称： \")]),\n        showCancelButton: true,\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        showInput: true\n      })\n        .then(active => {\n          if (!active.value) {\n            this.$message.error(\"值不能为空\");\n            return;\n          }\n          articleService.update(id, { title: active.value }).then(res => {\n            if (res.code !== 200) {\n              console.log(res.message);\n              return;\n            }\n            this.onload();\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消修改\"\n          });\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.el-card {\n  margin: 20px 0;\n  width: 100%;\n}\n.image {\n  height: 20vh;\n}\n.bottom {\n  display: flex;\n  padding: 14px;\n}\n.article-title {\n  padding: 0 14px;\n  font-size: 16px;\n  color: #555;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=dec0f0c8&scoped=true&\"\nimport script from \"./article.vue?vue&type=script&lang=js&\"\nexport * from \"./article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article.vue?vue&type=style&index=0&id=dec0f0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dec0f0c8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=style&index=0&id=dec0f0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=style&index=0&id=dec0f0c8&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleCreate.vue?vue&type=style&index=0&id=d2a23e64&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleCreate.vue?vue&type=style&index=0&id=d2a23e64&scoped=true&lang=css&\"","import request from \"@/global/request/axios\";\nimport API from \"@/global/request/api\";\n\nconst qiniu = {\n  qiniu: function() {\n    return request.get(API.qiniuToken);\n  },\n  upload: function(file) {\n    return new Promise(resolve => {\n      this.qiniu().then(res => {\n        const key = \"yunchly/\" + Date.now() + \"_\" + file.name;\n        let token = res.token;\n        let domain = res.domain;\n        let formData = new FormData();\n        formData.append(\"file\", file);\n        formData.append(\"key\", key);\n        formData.append(\"token\", token);\n        request\n          .post(API.qiniu_API, formData, {\n            headers: { \"Content-Type\": \"multiple/form-data\" }\n          })\n          .then(res => {\n            let imageUrl = domain + res.key;\n            resolve(imageUrl);\n          });\n      });\n    });\n  }\n};\n\nexport default qiniu;\n"],"sourceRoot":""}