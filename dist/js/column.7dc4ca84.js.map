{"version":3,"sources":["webpack:///./src/global/service/column.js","webpack:///./src/views/column.vue?bea2","webpack:///src/views/column.vue","webpack:///./src/views/column.vue?de0a","webpack:///./src/views/column.vue","webpack:///./src/views/columnSingle.vue?b670","webpack:///./src/views/columnSingle.vue?9b6c","webpack:///src/views/columnSingle.vue","webpack:///./src/views/columnSingle.vue?106f","webpack:///./src/views/columnSingle.vue","webpack:///./src/views/columnCreate.vue?89de","webpack:///./src/views/columnCreate.vue?fd77","webpack:///src/views/columnCreate.vue","webpack:///./src/views/columnCreate.vue?41c5","webpack:///./src/views/columnCreate.vue","webpack:///./src/views/column.vue?56d8","webpack:///./src/global/service/qiniu.js"],"names":["Column","insert","params","request","post","API","column","all","get","single","id","columnItem","update","put","columnSelected","columnUnSelected","columnSelect","unColumnSelect","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","handleInsert","_v","_l","item","key","padding","image_url","staticStyle","_s","title","desc","handleSee","staticRenderFns","data","columnData","created","methods","$router","push","component","model","value","callback","$$v","tableName","expression","activeName","handleEditName","handleEditDesc","_e","handleEditImage","beforeAvatarUpload","ref","selectionData","handleSelectionChange","handleDelete","slot","scopedSlots","_u","fn","scope","row","name","tableData","handleDataChange","pagination","pageSize","nowPage","total","$set","onload","insertParams","deleteParams","$msgbox","message","h","showCancelButton","confirmButtonText","cancelButtonText","showInput","qiniu","res","code","console","log","isLt2M","$message","error","topic_id","topicId","length","column_id","columnId","arr","formData","rules","handleAvatar","imageUrl","handleCreate","handlereturn","$refs","Form","validate","valid","type","qiniuToken","upload","file","Promise","resolve","then","Date","now","token","domain","FormData","append","qiniu_API","headers"],"mappings":"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","file":"js/column.7dc4ca84.js","sourcesContent":["import request from \"@/global/request/axios\";\nimport API from \"@/global/request/api\";\n\nconst Column = {\n  insert: function(params) {\n    return request.post(API.column, params);\n  },\n  all: function() {\n    return request.get(API.column);\n  },\n  single: function(id) {\n    return request.get(API.columnItem(id));\n  },\n  update: function(id, params) {\n    return request.put(API.columnItem(id), params);\n  },\n  columnSelected: function(id) {\n    return request.get(API.columnSelected(id));\n  },\n  columnUnSelected: function(id, params) {\n    return request.get(API.columnUnSelected(id), params);\n  },\n  columnSelect: function(params) {\n    return request.post(API.columnSelect, params);\n  },\n  unColumnSelect: function(params) {\n    return request.put(API.columnSelect, params);\n  }\n};\n\nexport default Column;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-button',{staticClass:\"insert-btn\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){return _vm.handleInsert()}}},[_vm._v(\"添加 \")]),_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.columnData),function(item){return _c('el-col',{key:item.id,attrs:{\"span\":6}},[_c('el-card',{staticClass:\"el-card\",attrs:{\"body-style\":{ padding: '0px' }}},[_c('el-image',{staticClass:\"image\",attrs:{\"src\":item.image_url,\"fit\":\"cover\"}}),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('span',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"bottom\"},[_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(item.desc))]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleSee(item.id)}}},[_vm._v(\"查看\")])],1)])],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <el-button\n      class=\"insert-btn\"\n      type=\"primary\"\n      icon=\"el-icon-circle-plus-outline\"\n      @click=\"handleInsert()\"\n      >添加\n    </el-button>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\" v-for=\"item in columnData\" :key=\"item.id\">\n        <el-card :body-style=\"{ padding: '0px' }\" class=\"el-card\">\n          <el-image :src=\"item.image_url\" class=\"image\" fit=\"cover\"> </el-image>\n          <div style=\"padding: 14px;\">\n            <span>{{ item.title }}</span>\n            <div class=\"bottom\">\n              <p class=\"desc\">{{ item.desc }}</p>\n              <el-button type=\"text\" size=\"small\" @click=\"handleSee(item.id)\"\n                >查看</el-button\n              >\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport columnService from \"@/global/service/column.js\";\n\nexport default {\n  data() {\n    return {\n      columnData: []\n    };\n  },\n  created() {\n    columnService.all().then(res => {\n      this.columnData = res.data;\n    });\n  },\n  methods: {\n    handleSee(id) {\n      this.$router.push({ name: \"columnSingle\", params: { id } });\n    },\n    handleInsert() {\n      this.$router.push({ name: \"columnCreate\" });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  position: relative;\n  padding-top: 60px;\n}\n.insert-btn {\n  position: absolute;\n  top: 15px;\n  right: 20px;\n}\n.el-card {\n  margin: 20px 0;\n  width: 100%;\n}\n.image {\n  height: 20vh;\n}\n.bottom {\n  margin-top: 13px;\n  line-height: 28px;\n  display: flex;\n  justify-content: space-between;\n}\n.desc {\n  font-size: 12px;\n  color: #999;\n  width: 80%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.button {\n  width: 100%;\n  padding: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./column.vue?vue&type=template&id=4beaf116&scoped=true&\"\nimport script from \"./column.vue?vue&type=script&lang=js&\"\nexport * from \"./column.vue?vue&type=script&lang=js&\"\nimport style0 from \"./column.vue?vue&type=style&index=0&id=4beaf116&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4beaf116\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnSingle.vue?vue&type=style&index=0&id=ca4bd672&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnSingle.vue?vue&type=style&index=0&id=ca4bd672&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{staticClass:\"container\",model:{value:(_vm.tableName),callback:function ($$v) {_vm.tableName=$$v},expression:\"tableName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"合辑编辑\",\"name\":\"first\"}},[_c('el-collapse',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-collapse-item',{attrs:{\"title\":\"合辑名称\",\"name\":\"1\"}},[_c('div',{staticClass:\"column-text\"},[_vm._v(\" \"+_vm._s(_vm.columnData.title)+\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding-right\":\"20px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEditName(_vm.columnData.id)}}},[_vm._v(\"编辑\")])],1)]),_c('el-collapse-item',{attrs:{\"title\":\"合辑描述\",\"name\":\"2\"}},[_c('div',{staticClass:\"column-text\"},[_vm._v(\" \"+_vm._s(_vm.columnData.desc)+\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding-right\":\"20px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEditDesc(_vm.columnData.id)}}},[_vm._v(\"编辑\")])],1)]),_c('el-collapse-item',{attrs:{\"title\":\"合辑图片\",\"name\":\"3\"}},[(_vm.columnData.image_url)?_c('el-image',{staticClass:\"image\",attrs:{\"src\":_vm.columnData.image_url,\"fit\":\"cover\"}}):_vm._e(),_c('el-upload',{staticClass:\"avatar-uploader\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"action\":\"\",\"show-file-list\":false,\"http-request\":_vm.handleEditImage,\"before-upload\":_vm.beforeAvatarUpload}},[_vm._v(\" 编辑 \")])],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"合辑管理\",\"name\":\"second\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.selectionData,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"label\":\"选择\"}},[_c('el-button',{attrs:{\"slot\":\"header\",\"size\":\"small\"},on:{\"click\":_vm.handleDelete},slot:\"header\"},[_vm._v(\"移除\")]),_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"80\"}})],1),_c('el-table-column',{attrs:{\"label\":\"展示话题\"}},[_c('el-table-column',{attrs:{\"label\":\"标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"topic-title\"},[_vm._v(_vm._s(scope.row.title))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"分类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',[_vm._v(_vm._s(scope.row.name))])],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"pv\",\"label\":\"PV\"}}),_c('el-table-column',{attrs:{\"prop\":\"follow\",\"label\":\"关注\"}}),_c('el-table-column',{attrs:{\"prop\":\"answer_num\",\"label\":\"回答\"}})],1)],1),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleDataChange}},[_c('el-table-column',{attrs:{\"label\":\"选择\"}},[_c('el-button',{attrs:{\"slot\":\"header\",\"size\":\"small\"},on:{\"click\":_vm.handleInsert},slot:\"header\"},[_vm._v(\"添加\")]),_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"80\"}})],1),_c('el-table-column',{attrs:{\"label\":\"所有话题\"}},[_c('el-table-column',{attrs:{\"label\":\"标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"topic-title\"},[_vm._v(_vm._s(scope.row.title))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"分类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',[_vm._v(_vm._s(scope.row.name))])],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"pv\",\"label\":\"PV\"}}),_c('el-table-column',{attrs:{\"prop\":\"follow\",\"label\":\"关注\"}}),_c('el-table-column',{attrs:{\"prop\":\"answer_num\",\"label\":\"回答\"}})],1)],1),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.pagination.pageSize,\"pager-count\":7,\"current-page\":_vm.pagination.nowPage,\"total\":_vm.pagination.total},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.pagination, \"nowPage\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pagination, \"nowPage\", $event)},\"current-change\":_vm.onload}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-tabs class=\"container\" v-model=\"tableName\">\n    <el-tab-pane label=\"合辑编辑\" name=\"first\">\n      <el-collapse v-model=\"activeName\">\n        <el-collapse-item title=\"合辑名称\" name=\"1\">\n          <div class=\"column-text\">\n            {{ columnData.title }}\n            <el-button\n              style=\"float: right; padding-right:20px\"\n              type=\"text\"\n              @click=\"handleEditName(columnData.id)\"\n              >编辑</el-button\n            >\n          </div>\n        </el-collapse-item>\n        <el-collapse-item title=\"合辑描述\" name=\"2\">\n          <div class=\"column-text\">\n            {{ columnData.desc }}\n            <el-button\n              style=\"float: right; padding-right:20px\"\n              type=\"text\"\n              @click=\"handleEditDesc(columnData.id)\"\n              >编辑</el-button\n            >\n          </div>\n        </el-collapse-item>\n        <el-collapse-item title=\"合辑图片\" name=\"3\">\n          <el-image\n            v-if=\"columnData.image_url\"\n            :src=\"columnData.image_url\"\n            class=\"image\"\n            fit=\"cover\"\n          >\n          </el-image>\n          <el-upload\n            class=\"avatar-uploader\"\n            action=\"\"\n            :show-file-list=\"false\"\n            :http-request=\"handleEditImage\"\n            :before-upload=\"beforeAvatarUpload\"\n            style=\"margin-right:10px\"\n          >\n            编辑\n          </el-upload>\n        </el-collapse-item>\n      </el-collapse>\n    </el-tab-pane>\n    <el-tab-pane label=\"合辑管理\" name=\"second\">\n      <el-table\n        ref=\"multipleTable\"\n        :data=\"selectionData\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column label=\"选择\">\n          <el-button slot=\"header\" size=\"small\" @click=\"handleDelete\"\n            >移除</el-button\n          >\n          <el-table-column type=\"selection\" width=\"80\"> </el-table-column>\n        </el-table-column>\n        <el-table-column label=\"展示话题\">\n          <el-table-column label=\"标题\">\n            <template slot-scope=\"scope\">\n              <span class=\"topic-title\">{{ scope.row.title }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"分类\">\n            <template slot-scope=\"scope\">\n              <div slot=\"reference\" class=\"name-wrapper\">\n                <el-tag>{{ scope.row.name }}</el-tag>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"pv\" label=\"PV\"> </el-table-column>\n          <el-table-column prop=\"follow\" label=\"关注\"> </el-table-column>\n          <el-table-column prop=\"answer_num\" label=\"回答\"></el-table-column>\n        </el-table-column>\n      </el-table>\n      <el-table\n        ref=\"multipleTable\"\n        :data=\"tableData\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;margin-top:20px\"\n        @selection-change=\"handleDataChange\"\n      >\n        <el-table-column label=\"选择\">\n          <el-button slot=\"header\" size=\"small\" @click=\"handleInsert\"\n            >添加</el-button\n          >\n          <el-table-column type=\"selection\" width=\"80\"> </el-table-column>\n        </el-table-column>\n        <el-table-column label=\"所有话题\">\n          <el-table-column label=\"标题\">\n            <template slot-scope=\"scope\">\n              <span class=\"topic-title\">{{ scope.row.title }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"分类\">\n            <template slot-scope=\"scope\">\n              <div slot=\"reference\" class=\"name-wrapper\">\n                <el-tag>{{ scope.row.name }}</el-tag>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"pv\" label=\"PV\"> </el-table-column>\n          <el-table-column prop=\"follow\" label=\"关注\"> </el-table-column>\n          <el-table-column prop=\"answer_num\" label=\"回答\"></el-table-column>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        class=\"pagination\"\n        layout=\"prev, pager, next\"\n        :page-size=\"pagination.pageSize\"\n        :pager-count=\"7\"\n        :current-page.sync=\"pagination.nowPage\"\n        :total=\"pagination.total\"\n        @current-change=\"onload\"\n      >\n      </el-pagination>\n    </el-tab-pane>\n  </el-tabs>\n</template>\n\n<script>\nimport columnService from \"@/global/service/column.js\";\nimport qiniuService from \"@/global/service/qiniu.js\";\n\nexport default {\n  data() {\n    return {\n      activeName: [\"1\", \"2\", \"3\"],\n      tableName: \"first\",\n      columnData: {},\n      selectionData: [],\n      tableData: [],\n      pagination: {\n        pageSize: 10,\n        total: 0,\n        nowPage: 1\n      },\n      insertParams: [],\n      deleteParams: []\n    };\n  },\n  created() {\n    let id = this.$route.params.id;\n    columnService.single(id).then(res => {\n      this.columnData = res.data;\n    });\n    this.onload();\n  },\n  methods: {\n    onload() {\n      let id = this.$route.params.id;\n      let params = {\n        pageSize: this.pagination.pageSize,\n        nowPage: this.pagination.nowPage\n      };\n      columnService.columnSelected(id).then(res => {\n        this.selectionData = res.data;\n      });\n      columnService.columnUnSelected(id, params).then(res => {\n        this.tableData = res.data;\n        this.pagination.total = res.total;\n      });\n    },\n    handleEditName(id) {\n      let h = this.$createElement;\n      this.$msgbox({\n        title: \"修改名称\",\n        message: h(\"p\", null, [h(\"span\", null, \"输入合辑名称： \")]),\n        showCancelButton: true,\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        showInput: true\n      })\n        .then(active => {\n          if (!active.value) {\n            this.$message.error(\"值不能为空\");\n            return;\n          }\n          let title = active.value;\n          columnService.update(id, { title }).then(res => {\n            if (res.code !== 200) {\n              console.log(res.message);\n              return;\n            }\n            this.columnData.title = active.value;\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消修改\"\n          });\n        });\n    },\n    handleEditDesc(id) {\n      let h = this.$createElement;\n      this.$msgbox({\n        title: \"修改描述\",\n        message: h(\"p\", null, [h(\"span\", null, \"输入合辑描述： \")]),\n        showCancelButton: true,\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        showInput: true\n      })\n        .then(active => {\n          if (!active.value) {\n            this.$message.error(\"值不能为空\");\n            return;\n          }\n          let desc = active.value;\n          columnService.update(id, { desc }).then(res => {\n            if (res.code !== 200) {\n              console.log(res.message);\n              return;\n            }\n            this.columnData.desc = active.value;\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消修改\"\n          });\n        });\n    },\n    handleEditImage(files) {\n      qiniuService.upload(files.file).then(res => {\n        const image_url = res;\n        let id = this.$route.params.id;\n        columnService.update(id, { image_url }).then(res => {\n          if (res.code !== 200) {\n            console.log(res.message);\n            return;\n          }\n          this.columnData.image_url = image_url;\n        });\n      });\n    },\n    beforeAvatarUpload(file) {\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isLt2M) {\n        this.$message.error(\"上传图片大小不能超过 2MB!\");\n      }\n      return isLt2M;\n    },\n    handleSelectionChange(val) {\n      let topicId = val.map(data => {\n        return data.topic_id;\n      });\n      this.deleteParams = topicId;\n    },\n    handleDataChange(val) {\n      let topicId = val.map(data => {\n        return data.topic_id;\n      });\n      this.insertParams = topicId;\n    },\n    handleInsert() {\n      if (!this.insertParams.length) {\n        this.$message.error(\"没有选择话题喔~\");\n        return;\n      }\n      let columnId = this.$route.params.id;\n      let params = this.insertParams.map(arr => {\n        return {\n          column_id: columnId,\n          topic_id: arr\n        };\n      });\n      columnService.columnSelect({ params }).then(res => {\n        if (res.code !== 200) {\n          this.$message.error(res.message);\n        }\n        this.onload();\n      });\n    },\n    handleDelete() {\n      if (!this.deleteParams.length) {\n        this.$message.error(\"没有选择话题喔~\");\n        return;\n      }\n      let columnId = this.$route.params.id;\n      let params = this.deleteParams.map(arr => {\n        return [arr, columnId];\n      });\n      columnService.unColumnSelect({ params }).then(res => {\n        if (res.code !== 200) {\n          this.$message.error(res.message);\n        }\n        this.onload();\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  background: #fff;\n  padding: 20px;\n}\n.column-text {\n  font-size: 15px;\n  color: #777;\n}\n.image {\n  max-width: 80%;\n}\n.avatar-uploader {\n  float: right;\n  padding-right: 10px;\n  font-size: 14px;\n  color: #1e90ff;\n}\n.topic-title {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.pagination {\n  padding: 20px 0 0 10px;\n  background-color: #fff;\n  display: flex;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnSingle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnSingle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./columnSingle.vue?vue&type=template&id=ca4bd672&scoped=true&\"\nimport script from \"./columnSingle.vue?vue&type=script&lang=js&\"\nexport * from \"./columnSingle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./columnSingle.vue?vue&type=style&index=0&id=ca4bd672&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca4bd672\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnCreate.vue?vue&type=style&index=0&id=5e32dedb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnCreate.vue?vue&type=style&index=0&id=5e32dedb&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"增加一个合辑\")]),_c('el-form',{ref:\"Form\",staticClass:\"el-form\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"100px\"}},[_c('el-form-item',{staticClass:\"warpper\",staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"名称：\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_c('el-form-item',{staticClass:\"warpper\",staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"描述：\",\"prop\":\"desc\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入描述\"},model:{value:(_vm.formData.desc),callback:function ($$v) {_vm.$set(_vm.formData, \"desc\", $$v)},expression:\"formData.desc\"}})],1),_c('div',{staticClass:\"image-title\"},[_vm._v(\"展示图：\")]),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"http-request\":_vm.handleAvatar,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('el-form-item',{staticClass:\"warpper\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"添加\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.handlereturn}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <h3 class=\"title\">增加一个合辑</h3>\n    <el-form\n      :model=\"formData\"\n      :rules=\"rules\"\n      ref=\"Form\"\n      label-position=\"left\"\n      label-width=\"100px\"\n      class=\"el-form\"\n    >\n      <el-form-item\n        class=\"warpper\"\n        label=\"名称：\"\n        prop=\"title\"\n        style=\"width:500px;\"\n      >\n        <el-input v-model=\"formData.title\" placeholder=\"请输入名称\" />\n      </el-form-item>\n      <el-form-item\n        class=\"warpper\"\n        label=\"描述：\"\n        prop=\"desc\"\n        style=\"width:500px;\"\n      >\n        <el-input v-model=\"formData.desc\" placeholder=\"请输入描述\" />\n      </el-form-item>\n      <div class=\"image-title\">展示图：</div>\n      <el-upload\n        class=\"avatar-uploader\"\n        action=\"\"\n        :show-file-list=\"false\"\n        :http-request=\"handleAvatar\"\n        :before-upload=\"beforeAvatarUpload\"\n      >\n        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n      </el-upload>\n      <el-form-item class=\"warpper\">\n        <el-button type=\"primary\" @click=\"handleCreate\">添加</el-button>\n        <el-button type=\"info\" @click=\"handlereturn\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport qiniuService from \"@/global/service/qiniu.js\";\nimport columnService from \"@/global/service/column.js\";\n\nexport default {\n  data() {\n    return {\n      imageUrl: \"\",\n      formData: {\n        title: \"\",\n        desc: \"\"\n      },\n      rules: {\n        title: [{ required: true, message: \"请输入名称\", trigger: \"blur\" }],\n        desc: [{ required: true, message: \"请输入描述\", trigger: \"blur\" }]\n      }\n    };\n  },\n  methods: {\n    handleCreate() {\n      this.$refs.Form.validate(valid => {\n        let imageUrl = this.imageUrl;\n        if (valid && imageUrl) {\n          let params = {\n            title: this.formData.title,\n            desc: this.formData.desc,\n            imageUrl: this.imageUrl\n          };\n          columnService.insert(params).then(res => {\n            if (res.code === 200) {\n              this.$message({\n                message: res.message,\n                type: \"success\"\n              });\n              this.$router.push({ name: \"column\" });\n            }\n          });\n        } else {\n          this.$message({\n            message: \"缺少必要参数\",\n            type: \"warning\"\n          });\n        }\n      });\n    },\n    handleAvatar(files) {\n      qiniuService.upload(files.file).then(res => {\n        this.imageUrl = res;\n      });\n    },\n    beforeAvatarUpload(file) {\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isLt2M) {\n        this.$message.error(\"上传图片大小不能超过 2MB!\");\n      }\n      return isLt2M;\n    },\n    handlereturn() {\n      this.$router.push({ name: \"column\" });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  background-color: #fff;\n  border-radius: 10px;\n  padding: 20px;\n}\n.title {\n  padding: 30px;\n}\n.el-form {\n  padding: 10px 0 0 30px;\n}\n.avatar-uploader,\n.el-upload {\n  width: 178px;\n  height: 178px;\n  border: 1px dashed #4169e1;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  margin: 0 0 30px 100px;\n}\n.avatar-uploader:hover {\n  border-color: #000080;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnCreate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./columnCreate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./columnCreate.vue?vue&type=template&id=5e32dedb&scoped=true&\"\nimport script from \"./columnCreate.vue?vue&type=script&lang=js&\"\nexport * from \"./columnCreate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./columnCreate.vue?vue&type=style&index=0&id=5e32dedb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e32dedb\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column.vue?vue&type=style&index=0&id=4beaf116&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column.vue?vue&type=style&index=0&id=4beaf116&scoped=true&lang=css&\"","import request from \"@/global/request/axios\";\nimport API from \"@/global/request/api\";\n\nconst qiniu = {\n  qiniu: function() {\n    return request.get(API.qiniuToken);\n  },\n  upload: function(file) {\n    return new Promise(resolve => {\n      this.qiniu().then(res => {\n        const key = \"yunchly/\" + Date.now() + \"_\" + file.name;\n        let token = res.token;\n        let domain = res.domain;\n        let formData = new FormData();\n        formData.append(\"file\", file);\n        formData.append(\"key\", key);\n        formData.append(\"token\", token);\n        request\n          .post(API.qiniu_API, formData, {\n            headers: { \"Content-Type\": \"multiple/form-data\" }\n          })\n          .then(res => {\n            let imageUrl = domain + res.key;\n            resolve(imageUrl);\n          });\n      });\n    });\n  }\n};\n\nexport default qiniu;\n"],"sourceRoot":""}